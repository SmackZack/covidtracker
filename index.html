<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Covid Tracker</title>
    <!-- MDB icon -->
    <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.11.2/css/all.css"
    />
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" href="css/mdb.min.css" />
    <link rel="stylesheet" href="css/addons/datatables.min.css" />
    <!-- Your custom styles (optional) -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-6 col-sm-12 pt-5">
          <div class="table-responsive text-wrap table-responsive-sm">
            <table id="dtMaterialDesignExample"  class="table" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th class="th-sm">State/UT</th>
                  <th class="th-sm">Confirmed</th>
                  <th class="th-sm">Active</th>
                  <th class="th-sm">Recovered</th>
                  <th class="th-sm">Deceased</th>
                </tr>
              </thead>
              <tbody id="covidData"></tbody>
            </table>
          </div>
        </div>
        <div class="col-lg-6 col-sm-12 pt-5">
          <ul
            class="nav nav-pills flex-column flex-sm-row"
            id="pills-tab"
            role="tablist"
          >
            <li
              class="nav-item flex-sm-fill rounded alert-danger text-sm-center red-text"
            >
              <a
                class="nav-link red-text active"
                id="pills-home-tab"
                data-toggle="pill"
                href="#pills-home"
                role="tab"
                aria-controls="pills-home"
                aria-selected="true"
              >
                <div class="h5 pt-2"><strong>Confirmed</strong></div>
                <div class="font-weight-normal h6">+4600</div>
                <div class="h4">400033</div>
              </a>
            </li>
            <li
              class="nav-item flex-sm-fill rounded alert-primary text-sm-center"
            >
              <a
                class="nav-link blue-text"
                id="pills-profile-tab"
                data-toggle="pill"
                href="#pills-profile"
                role="tab"
                aria-controls="pills-profile"
                aria-selected="false"
              >
                <div class="h5 pt-2"><strong>Active</strong></div>
                <div class="font-weight-normal h6">+4600</div>
                <div class="h4">400033</div></a
              >
            </li>
            <li
              class="nav-item flex-sm-fill rounded alert-success text-sm-center"
            >
              <a
                class="nav-link green-text"
                id="pills-contact-tab"
                data-toggle="pill"
                href="#pills-contact"
                role="tab"
                aria-controls="pills-contact"
                aria-selected="false"
              >
                <div class="h5 pt-2"><strong>Recovered</strong></div>
                <div class="font-weight-normal h6">+4600</div>
                <div class="h4">400033</div></a
              >
            </li>
            <li
              class="nav-item flex-sm-fill rounded alert-secondary text-sm-center"
            >
              <a
                class="nav-link text-black-50"
                id="pills-contact-tab"
                data-toggle="pill"
                href="#pills-contact"
                role="tab"
                aria-controls="pills-contact"
                aria-selected="false"
                ><div class="h5 pt-2"><strong>Deceased</strong></div>
                <div class="font-weight-normal h6">+4600</div>
                <div class="h4">400033</div></a
              >
            </li>
          </ul>
          <div class="tab-content" id="pills-tabContent">
            <div
              class="tab-pane fade show active"
              id="pills-home"
              role="tabpanel"
              aria-labelledby="pills-home-tab"
            >
              <div id="geochart-colors" style="width: 100%"></div>
            </div>
            <div
              class="tab-pane fade"
              id="pills-profile"
              role="tabpanel"
              aria-labelledby="pills-profile-tab"
            >
              ...
            </div>
            <div
              class="tab-pane fade"
              id="pills-contact"
              role="tabpanel"
              aria-labelledby="pills-contact-tab"
            >
              ...
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- jQuery -->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
    <script type="text/javascript" src="js/addons/datatables.min.js"></script>
    <!-- Google Charts -->

    <!-- Your custom scripts (optional) -->
    <script src="js/data.js"></script>
    <script
      type="text/javascript"
      src="https://www.gstatic.com/charts/loader.js"
    ></script>
    <script type="text/javascript">
      
      

      google.charts.load("current", {
        packages: ["geochart"],
        mapsApiKey: "AIzaSyD-9tSrke72PouQMnMX-a7eZSW0jkFMBWY",
      });
      google.charts.setOnLoadCallback(drawRegionsMap);

      var data1 = [];
      data1[0] = `["State", "Popularity"],`;
      var settings = {
        url: "https://api.covid19india.org/data.json",
        method: "GET",
        timeout: 0,
      };

      $.ajax(settings).done(function (response) {
        console.log(response.statewise[0]);
        var text = "";
        for (var i = 0; i < response.statewise.length; i++) {
          data1[i + 1] =
            `["` +
            response.statewise[i].state +
            '",' +
            response.statewise[i].active +
            `],`;
        }
      });
      function drawRegionsMap() {
        var data = google.visualization.arrayToDataTable([
          ["State", "Popularity"],
          ["Total", 443642],
          ["Maharashtra", 79738],
          ["Karnataka", 25169],
          ["Andhra Pradesh", 16000],
          ["Tamil Nadu", 13907],
          ["Uttar Pradesh", 22757],
          ["Kerala", 68234],
          ["Delhi", 43221],
          ["West Bengal", 25873],
          ["Odisha", 8088],
          ["Telangana", 12515],
          ["Bihar", 5772],
          ["Rajasthan", 20168],
          ["Assam", 3192],
          ["Chhattisgarh", 19421],
          ["Haryana", 19579],
          ["Gujarat", 12577],
          ["Madhya Pradesh", 9800],
          ["Punjab", 6194],
          ["Jharkhand", 2600],
          ["Jammu and Kashmir", 5560],
          ["Uttarakhand", 4132],
          ["Goa", 1343],
          ["Puducherry", 670],
          ["Tripura", 959],
          ["Himachal Pradesh", 6978],
          ["Manipur", 2886],
          ["Arunachal Pradesh", 1127],
          ["Chandigarh", 1105],
          ["Meghalaya", 798],
          ["Nagaland", 1292],
          ["Ladakh", 1000],
          ["Andaman and Nicobar Islands", 145],
          ["Sikkim", 297],
          ["Dadra and Nagar Haveli and Daman and Diu", 34],
          ["Mizoram", 511],
          ["State Unassigned", 0],
          ["Lakshadweep", 0],
        ]);
        var text = "";
        for (var i = 0; i < data1.length; i++) {
          text += data1[i];
        }
        console.log(text);
        var options = {
          region: "IN",
          resolution: "provinces",
          domain: "IN",
          enableRegionInteractivity: true,
          colorAxis: { colors: ["Blue"] },
          datalessRegionColor: "red",
          displayMode: "regions",
          backgroundColor: { color: "red", stroke: "white" },
          datalessRegionColor: "transparent",
          defaultColor: "transparent",
          textStyle: { color: "#FF0000" },
          showColorCode: true,
        };

        var chart = new google.visualization.GeoChart(
          document.getElementById("geochart-colors")
        );
        chart.draw(data, options);
      }
    </script>
    <script type="text/javascript"></script>
  </body>
</html>
